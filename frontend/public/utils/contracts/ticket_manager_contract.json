{
    "name": "TicketManager",
    "desc": "Manages event tickets as on-chain NFTs (ASAs). Each ticket is a unique ASA minted by the contract. Ticket metadata is stored in boxes keyed by asset ID.",
    "methods": [
        {
            "name": "create_event",
            "desc": "Initialize event with price (microAlgos) and ticket supply. Only creator can call.",
            "args": [
                {
                    "type": "uint64",
                    "name": "price"
                },
                {
                    "type": "uint64",
                    "name": "supply"
                }
            ],
            "returns": {
                "type": "void"
            }
        },
        {
            "name": "buy_ticket",
            "desc": "Purchase a ticket. Requires a payment transaction for the ticket price. Mints a unique NFT and stores buyer info in a box. Returns the minted asset ID.",
            "args": [
                {
                    "type": "pay",
                    "name": "payment"
                }
            ],
            "returns": {
                "type": "uint64"
            }
        },
        {
            "name": "claim_ticket",
            "desc": "Claim a purchased ticket. Transfers the NFT to the buyer. Buyer must opt-in to the ASA before calling this.",
            "args": [
                {
                    "type": "uint64",
                    "name": "ticket_id"
                }
            ],
            "returns": {
                "type": "void"
            }
        },
        {
            "name": "check_in",
            "desc": "Mark a ticket as used (check-in at the venue). Only the organizer can call this.",
            "args": [
                {
                    "type": "uint64",
                    "name": "ticket_id"
                }
            ],
            "returns": {
                "type": "void"
            }
        },
        {
            "name": "withdraw_funds",
            "desc": "Withdraw revenue from ticket sales. Only organizer can call.",
            "args": [
                {
                    "type": "uint64",
                    "name": "amount"
                }
            ],
            "returns": {
                "type": "void"
            }
        },
        {
            "name": "get_event_info",
            "desc": "Read-only: returns (price, supply, sold).",
            "args": [],
            "returns": {
                "type": "(uint64,uint64,uint64)"
            }
        }
    ]
}